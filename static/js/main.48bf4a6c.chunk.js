(this["webpackJsonpreact-hw-3-image-finder"]=this["webpackJsonpreact-hw-3-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1Wwmq",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__23Qhn"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__dwdUn",Modal:"Modal_Modal__3LmGK"}},23:function(e,t,a){e.exports={App:"App_App__8rlmd"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2LNjO"}},25:function(e,t,a){e.exports={Button:"Button_Button__1M-fE"}},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__8uJnQ",SearchForm:"Searchbar_SearchForm__1wYuE",SearchForm__button:"Searchbar_SearchForm__button__2njgo","SearchForm__button-label":"Searchbar_SearchForm__button-label__2Nc4b",SearchForm__input:"Searchbar_SearchForm__input__1ffu7"}},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),u=a(9),l=a(4),s=(a(32),a(23)),i=a.n(s),b=a(5),m=a.n(b),j=a(1);var h=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=n[0],o=n[1];return Object(j.jsx)("header",{className:m.a.Searchbar,children:Object(j.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),0!==c.length&&(t(c),o(""))},children:[Object(j.jsx)("button",{type:"submit",className:m.a.SearchForm__button,children:Object(j.jsx)("span",{className:m.a.SearchForm__button__label})}),Object(j.jsx)("input",{className:m.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value)},value:c})]})})},_=a(24),f=a.n(_),d=function(e){var t=e.children;return Object(j.jsx)("ul",{className:f.a.ImageGallery,children:t})},O=a(11),p=a.n(O),g=function(e){var t=e.alt,a=e.src,r=e.url,n=e.onClick;return Object(j.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(j.jsx)("img",{onClick:n,src:a,alt:t,className:p.a.ImageGalleryItem__image,url:r})})},S=a(25),y=a.n(S);var v=function(e){var t=e.onClick;return Object(r.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})),Object(j.jsx)("button",{type:"button",onClick:t,className:y.a.Button,children:"Load more"})},x=a(26),I=a.n(x),w=a(12),F=a.n(w),N=document.querySelector("#modal-root");var k=function(e){var t=e.src,a=e.alt,n=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&n()};return Object(c.createPortal)(Object(j.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(j.jsx)("div",{className:F.a.Modal,children:Object(j.jsx)("img",{src:t,alt:a})})}),N)},G=a(13),C=a.n(G),E=a(27),L=a(14),T=a.n(L);T.a.defaults.baseURL="https://pixabay.com/api/";var A={fetchImages:function(){var e=Object(E.a)(C.a.mark((function e(t){var a,r,n,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchQuery,r=void 0===a?"":a,n=t.currentPage,c=void 0===n?1:n,e.abrupt("return",T.a.get("?q=".concat(r,"&page=").concat(c,"&key=").concat("21847975-d0fb10f6989c918e9c55b7840","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var M=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(1),o=Object(l.a)(c,2),s=o[0],b=o[1],m=Object(r.useState)([]),_=Object(l.a)(m,2),f=_[0],O=_[1],p=Object(r.useState)(""),S=Object(l.a)(p,2),y=S[0],x=S[1],w=Object(r.useState)(!1),F=Object(l.a)(w,2),N=F[0],G=F[1],C=Object(r.useState)(null),E=Object(l.a)(C,2),L=E[0],T=E[1],M=Object(r.useState)(!1),B=Object(l.a)(M,2),q=B[0],Q=B[1],U=Object(r.useState)(""),J=Object(l.a)(U,2),P=J[0],R=J[1],z=Object(r.useState)(""),D=Object(l.a)(z,2),H=D[0],K=D[1];Object(r.useEffect)((function(){y&&W()}),[y]);var W=function(){G(!0);var e={searchQuery:y,currentPage:s};A.fetchImages(e).then((function(e){n((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),b((function(e){return e+1})),O(Object(u.a)(e)),0===e.length&&T("Nothing was find by your query. Try again.")})).catch((function(e){return T(e.message)})).finally((function(){return G(!1)}))},Y=function(){Q((function(e){return!e}))},V=function(e){R(e.currentTarget.getAttribute("url")),K(e.currentTarget.getAttribute("alt")),Y()},X=!(f.length<12)&&!N;return Object(j.jsxs)("div",{className:i.a.App,children:[Object(j.jsx)(h,{onSubmit:function(e){x(e),b(1),n([]),T(null)}}),L&&Object(j.jsxs)("p",{style:{color:"red",textAlign:"center",fontSize:"20px"},children:["This is error: ",L]}),Object(j.jsx)(d,{children:a.map((function(e){var t=e.id,a=e.tags,r=e.webformatURL,n=e.largeImageURL;return Object(j.jsx)(g,{alt:a,src:r,url:n,onClick:V},t)}))}),N&&Object(j.jsx)(I.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),X&&Object(j.jsx)(v,{onClick:W}),q&&Object(j.jsx)(k,{src:P,alt:H,onClose:Y})]})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.48bf4a6c.chunk.js.map
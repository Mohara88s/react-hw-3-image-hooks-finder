{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","services/pixabay-api.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","styles","SearchForm","event","preventDefault","length","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","e","currentTarget","value","ImageGallery","children","ImageGalleryItem","alt","src","url","onClick","ImageGalleryItem__image","Button","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","modalRoot","querySelector","Modal","onClose","addEventListener","handleKeydown","removeEventListener","code","createPortal","Overlay","target","axios","defaults","baseURL","exportObject","fetchImages","a","searchQuery","currentPage","get","then","response","data","hits","App","images","setImages","setCurrentPage","currentPageImages","setCurrentPageImages","setSearchQuery","isLoading","setIsLoading","error","setError","showModal","setShowModal","modalUrl","setModalUrl","modalAlt","setModalAlt","options","pixabayApi","prevState","catch","message","finally","toogleModal","onClickImageGalleryItem","getAttribute","souldLoadMoreButton","style","color","textAlign","fontSize","map","id","tags","webformatURL","largeImageURL","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ecefa06c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Wwmq\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__23Qhn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__dwdUn\",\"Modal\":\"Modal_Modal__3LmGK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__8rlmd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2LNjO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1M-fE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__8uJnQ\",\"SearchForm\":\"Searchbar_SearchForm__1wYuE\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2njgo\",\"SearchForm__button-label\":\"Searchbar_SearchForm__button-label__2Nc4b\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1ffu7\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    setQuery(e.currentTarget.value);\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (query.length !== 0) {\n      onSubmit(query);\n      setQuery('');\n    }\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.SearchForm__button}>\n          <span className={styles.SearchForm__button__label}></span>\n        </button>\n\n        <input\n          className={styles.SearchForm__input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n          value={query}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ children }) => (\n  <ul className={styles.ImageGallery}>{children}</ul>\n);\nImageGallery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ alt, src, url, onClick }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      onClick={onClick}\n      src={src}\n      alt={alt}\n      className={styles.ImageGalleryItem__image}\n      url={url}\n    />\n  </li>\n);\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\nexport default ImageGalleryItem;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nfunction Button({ onClick }) {\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  });\n  return (\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ src, alt, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeydown);\n    return () => window.removeEventListener('keydown', handleKeydown);\n  });\n\n  const handleKeydown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n  const handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\n      <div className={styles.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n};\nexport default Modal;\n","import axios from 'axios';\nconst KEY = '21847975-d0fb10f6989c918e9c55b7840';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst fetchImages = async ({ searchQuery = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\nconst exportObject = { fetchImages };\nexport default exportObject;\n","import { useState, useEffect } from 'react';\nimport 'modern-normalize/modern-normalize.css';\nimport styles from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\nimport pixabayApi from './services/pixabay-api';\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [currentPageImages, setCurrentPageImages] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState('');\n  const [modalAlt, setModalAlt] = useState('');\n\n  useEffect(() => {\n    if (searchQuery) fetchImages();\n  }, [searchQuery]);\n\n  const onChangeQuery = query => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setImages([]);\n    setError(null);\n  };\n\n  const fetchImages = () => {\n    setIsLoading(true);\n    const options = { searchQuery, currentPage };\n\n    pixabayApi\n      .fetchImages(options)\n      .then(images => {\n        setImages(prevState => [...prevState, ...images]);\n        setCurrentPage(prevState => prevState + 1);\n        setCurrentPageImages([...images]);\n        if (images.length === 0)\n          setError('Nothing was find by your query. Try again.');\n      })\n      .catch(error => setError(error.message))\n      .finally(() => setIsLoading(false));\n  };\n\n  const toogleModal = () => {\n    setShowModal(prevState => !prevState);\n  };\n\n  const onClickImageGalleryItem = e => {\n    setModalUrl(e.currentTarget.getAttribute('url'));\n    setModalAlt(e.currentTarget.getAttribute('alt'));\n    toogleModal();\n  };\n  const souldLoadMoreButton = !(currentPageImages.length < 12) && !isLoading;\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={onChangeQuery} />\n      {error && (\n        <p style={{ color: 'red', textAlign: 'center', fontSize: '20px' }}>\n          This is error: {error}\n        </p>\n      )}\n      <ImageGallery>\n        {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n          <ImageGalleryItem\n            key={id}\n            alt={tags}\n            src={webformatURL}\n            url={largeImageURL}\n            onClick={onClickImageGalleryItem}\n          />\n        ))}\n      </ImageGallery>\n      {isLoading && (\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n      )}\n      {souldLoadMoreButton && <Button onClick={fetchImages} />}\n      {showModal && (\n        <Modal src={modalUrl} alt={modalAlt} onClose={toogleModal} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}
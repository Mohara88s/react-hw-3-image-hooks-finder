{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","services/pixabay-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","hendleSubmit","event","preventDefault","length","props","onSubmit","this","className","styles","SearchForm","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","alt","src","url","onClick","ImageGalleryItem__image","Button","window","scrollTo","top","document","documentElement","scrollHeight","behavior","modalRoot","querySelector","Modal","hendleKeydown","code","onClose","hendleOverlayClick","target","addEventListener","removeEventListener","createPortal","Overlay","axios","defaults","baseURL","exportObject","fetchImages","a","searchQuery","currentPage","get","then","response","data","hits","App","images","currentPageImages","isLoading","error","largeImage","showModal","modalUrl","modalAlt","onChangeQuery","options","pixabayApi","prevState","catch","message","finally","toogleModal","onClickImageGalleryItem","getAttribute","prevProps","souldLoadMoreButton","style","color","textAlign","fontSize","map","id","tags","webformatURL","largeImageURL","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.befa3b1f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Wwmq\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__23Qhn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__dwdUn\",\"Modal\":\"Modal_Modal__3LmGK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__8rlmd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2LNjO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1M-fE\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n  hendleSubmit = event => {\n    event.preventDefault();\n    if (this.state.query.length !== 0) {\n      this.props.onSubmit(this.state.query);\n      this.setState({ query: '' });\n    }\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.hendleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button__label}></span>\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={query}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ children }) => (\n  <ul className={styles.ImageGallery}>{children}</ul>\n);\nImageGallery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ alt, src, url, onClick }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      onClick={onClick}\n      src={src}\n      alt={alt}\n      className={styles.ImageGalleryItem__image}\n      url={url}\n    />\n  </li>\n);\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nclass Button extends Component {\n  componentDidMount() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n  render() {\n    const { onClick } = this.props;\n    return (\n      <button type=\"button\" onClick={onClick} className={styles.Button}>\n        Load more\n      </button>\n    );\n  }\n}\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hendleKeydown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hendleKeydown);\n  }\n\n  hendleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  hendleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    const { src, alt } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.hendleOverlayClick}>\n        <div className={styles.Modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n};\nexport default Modal;\n","import axios from 'axios';\nconst KEY = '21847975-d0fb10f6989c918e9c55b7840';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst fetchImages = async ({ searchQuery = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\nconst exportObject = { fetchImages };\nexport default exportObject;\n","import React, { Component } from 'react';\nimport 'modern-normalize/modern-normalize.css';\nimport styles from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\nimport pixabayApi from './services/pixabay-api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    currentPageImages: [],\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    largeImage: '',\n    showModal: false,\n    modalUrl: '',\n    modalAlt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    this.setState({ isLoading: true });\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    pixabayApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n          currentPageImages: [...images],\n        }));\n        if (images.length === 0) {\n          this.setState({\n            error: 'Nothing was find by your query. Try again.',\n          });\n        }\n      })\n      .catch(error => this.setState({ error: error.message }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toogleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  onClickImageGalleryItem = e => {\n    this.setState({\n      modalUrl: e.currentTarget.getAttribute('url'),\n      modalAlt: e.currentTarget.getAttribute('alt'),\n    });\n    this.toogleModal();\n  };\n  render() {\n    const {\n      images,\n      currentPageImages,\n      isLoading,\n      error,\n      showModal,\n      modalAlt,\n      modalUrl,\n    } = this.state;\n    const souldLoadMoreButton = !(currentPageImages.length < 12) && !isLoading;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && (\n          <p style={{ color: 'red', textAlign: 'center', fontSize: '20px' }}>\n            This is error: {error}\n          </p>\n        )}\n        <ImageGallery>\n          {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              alt={tags}\n              src={webformatURL}\n              url={largeImageURL}\n              onClick={this.onClickImageGalleryItem}\n            />\n          ))}\n        </ImageGallery>\n        {isLoading && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {souldLoadMoreButton && <Button onClick={this.fetchImages} />}\n        {showModal && (\n          <Modal src={modalUrl} alt={modalAlt} onClose={this.toogleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__8uJnQ\",\"SearchForm\":\"Searchbar_SearchForm__1wYuE\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2njgo\",\"SearchForm__button-label\":\"Searchbar_SearchForm__button-label__2Nc4b\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1ffu7\"};"],"sourceRoot":""}